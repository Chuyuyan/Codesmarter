# 🔧 修复浏览器缓存问题

## 🐛 问题描述

重新登录后，上传文件的功能（标签页）不见了。这是**浏览器缓存**问题。

---

## ✅ 解决方案

### 方法 1：硬刷新浏览器（最简单）

**Windows:**
- 按 `Ctrl + F5` 
- 或 `Ctrl + Shift + R`

**Mac:**
- 按 `Cmd + Shift + R`

这会强制浏览器重新加载所有文件，包括 HTML、CSS、JavaScript。

---

### 方法 2：清除浏览器缓存

1. 打开浏览器开发者工具（按 `F12`）
2. 右键点击刷新按钮
3. 选择"清空缓存并硬性重新加载"

或者：

1. 按 `Ctrl + Shift + Delete` (Windows) 或 `Cmd + Shift + Delete` (Mac)
2. 选择"缓存的图像和文件"
3. 点击"清除数据"

---

### 方法 3：使用隐私/无痕模式

1. 打开新的隐私/无痕窗口
   - Chrome: `Ctrl + Shift + N` (Windows) 或 `Cmd + Shift + N` (Mac)
   - Firefox: `Ctrl + Shift + P` (Windows) 或 `Cmd + Shift + P` (Mac)
2. 访问 `http://127.0.0.1:5050/`
3. 登录并测试

---

### 方法 4：添加版本号（长期解决方案）

我已经为您添加了缓存破坏机制。重启服务器后，浏览器会强制重新加载文件。

---

## 🔍 验证是否修复

修复后，您应该看到：

1. **三个标签页按钮**：
   - 📤 Upload Folder (ZIP)
   - 🔗 Git URL
   - 📁 Enter Path

2. **默认显示上传标签页**：
   - 文件选择器
   - "Upload and Index" 按钮

3. **可以切换到 Git URL 标签页**：
   - Git URL 输入框
   - Branch 输入框
   - Token 输入框
   - "Clone and Index" 按钮

---

## 📝 如果问题仍然存在

1. **检查服务器文件是否最新**
   ```bash
   # 确认文件存在
   cat static/index.html | grep "index-tabs"
   ```

2. **检查浏览器控制台错误**
   - 按 F12 打开开发者工具
   - 查看 Console 标签页
   - 查找红色错误消息

3. **检查网络请求**
   - 在开发者工具中，点击 Network 标签页
   - 刷新页面
   - 查看 `index.html` 请求
   - 检查响应内容是否包含标签页代码

---

## ✅ 快速修复步骤

1. **硬刷新浏览器**: `Ctrl + F5`
2. **如果还不行**: 清除浏览器缓存
3. **重启服务器**: 确保使用最新文件

---

## 🎯 预期结果

修复后，界面应该显示：

```
┌─────────────────────────────────────┐
│ 📚 Index Repository                  │
├─────────────────────────────────────┤
│ [📤 Upload] [🔗 Git URL] [📁 Path] │
│                                     │
│ Upload ZIP File:                    │
│ [选择文件...]                        │
│                                     │
│ Repository Name (optional):         │
│ [________________]                  │
│                                     │
│ [Upload and Index]                 │
└─────────────────────────────────────┘
```
